Working on preemptive lwt switching using signals.
